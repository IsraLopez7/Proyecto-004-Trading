# config.yaml
# Configuración por defecto del proyecto

# Datos
data:
  ticker: "QQQ"
  start_date: "2009-01-01"
  end_date: "2024-12-31"
  raw_path: "data/raw/QQQ_daily.csv"
  processed_path: "data/processed/features.parquet"

# Splits (cronológicos, sin look-ahead)
splits:
  train: 0.60
  test: 0.20
  val: 0.20

# Feature engineering
features:
  sma_windows: [10, 20, 50, 200]
  ema_windows: [12, 26]
  rsi_window: 14
  macd_fast: 12
  macd_slow: 26
  macd_signal: 9
  atr_window: 14
  bollinger_window: 20
  bollinger_std: 2
  stoch_window: 14
  adx_window: 14
  cci_window: 20
  roc_window: 12
  obv: true
  mfi_window: 14

# Labeling (etiquetas)
labeling:
  H: 5              # Horizonte (días hacia adelante)
  tau: 0.005        # Umbral (0.5% = 0.005)

# Ventanas para CNN
windows:
  W: 256            # Tamaño de ventana (secuencia de días)

# Modelo CNN
model:
  filters: [64, 128, 64]
  kernel_sizes: [5, 3, 3]
  pool_sizes: [2, 2, 2]
  dense_units: [128, 64]
  dropout: 0.3

# Entrenamiento
training:
  batch_size: 256
  epochs: 50
  learning_rate: 0.001
  validation_split: 0.0  # No usar porque ya tenemos val explícito
  random_seed: 42

# Callbacks
callbacks:
  early_stopping:
    patience: 10
    restore_best_weights: true
  reduce_lr:
    patience: 5
    factor: 0.5
    min_lr: 0.00001

# MLflow
mlflow:
  experiment_name: "QQQ_CNN_Trading"
  model_name: "cnn_signal_model"

# API
api:
  host: "0.0.0.0"
  port: 8000

# Backtest
backtest:
  commission: 0.00125    # 0.125% por lado
  borrow_rate: 0.0025    # 0.25% anual para cortos
  n_shares: 100          # Número de acciones por trade
  stop_loss_pct: 0.02    # 2% stop loss
  take_profit_pct: 0.03  # 3% take profit